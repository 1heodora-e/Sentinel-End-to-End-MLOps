<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentinel - Acoustic Distress Detection</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header Navigation Bar -->
    <header class="header-nav">
        <div class="header-container">
            <div class="logo">
                <span class="logo-icon">üéß</span>
                <span class="logo-text">Sentinel</span>
            </div>
            <nav class="nav-links">
                <a href="#" class="nav-link active" data-page="home">Home</a>
                <a href="#" class="nav-link" data-page="predict">Predict</a>
                <a href="#" class="nav-link" data-page="retrain">Retrain</a>
                <a href="#" class="nav-link" data-page="visualization">Visualization</a>
            </nav>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="main-container">
        <!-- Home Page -->
        <section id="home-page" class="page active">
            <div class="hero-section">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1 class="hero-title">Revolutionizing Acoustic Safety Detection for a Secure Future</h1>
                        <p class="hero-description">Harness the power of AI to accurately detect distress signals, monitor audio environments, and make a real impact on safety and security.</p>
                        <div class="hero-buttons">
                            <button class="btn btn-hero-primary" onclick="navigateToPage('predict')">Start Classifying</button>
                            <button class="btn btn-hero-secondary" onclick="navigateToPage('visualization')">View Insights</button>
                        </div>
                    </div>
                    <div class="hero-image">
                        <div class="image-placeholder">
                            <span class="image-icon">üéß</span>
                            <p>Acoustic Analysis</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Key Features Section -->
            <div class="features-section">
                <h2 class="features-title">Key Features</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ü§ñ</div>
                        <h3 class="feature-title">AI-Powered Classification</h3>
                        <p class="feature-description">Advanced machine learning algorithms for accurate audio classification with real-time processing and high confidence predictions.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîÑ</div>
                        <h3 class="feature-title">Model Retraining</h3>
                        <p class="feature-description">Continuously improve classification accuracy with new data and automated model updates through our retraining pipeline.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <h3 class="feature-title">Data Visualization</h3>
                        <p class="feature-description">Comprehensive analytics and insights to track model performance, dataset characteristics, and system metrics.</p>
                    </div>
                </div>
            </div>

            <!-- Impact Stats Section -->
            <div class="impact-section">
                <h2 class="impact-title">Our Impact</h2>
                <div class="impact-stats">
                    <div class="impact-stat">
                        <div class="impact-value" id="homeTotalPredictions">0</div>
                        <div class="impact-label">Audio Files Analyzed</div>
                    </div>
                    <div class="impact-stat">
                        <div class="impact-value" id="homeAccuracy">75%</div>
                        <div class="impact-label">Classification Accuracy</div>
                    </div>
                    <div class="impact-stat">
                        <div class="impact-value" id="homeAvgConfidence">0%</div>
                        <div class="impact-label">Average Confidence</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Predict Page -->
        <section id="predict-page" class="page">
            <div class="page-header">
                <h1 class="page-title">Audio Classification</h1>
                <p class="page-subtitle">Upload an audio file to detect distress signals or safe sounds</p>
            </div>

            <div class="content-wrapper">
                <!-- Upload Section -->
                <div class="card">
                    <h2 class="section-title">Upload Audio File</h2>
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="audioFile" accept=".wav,.mp3" hidden>
                        <div class="upload-content">
                            <span class="upload-icon">üìÅ</span>
                            <p class="upload-text">Drag and drop your audio file here, or <strong class="browse-link">browse</strong></p>
                            <p class="upload-hint">Supported formats: WAV, MP3 only (max 10MB)</p>
                        </div>
                        <div id="fileFormatError" class="error-message" style="display: none;"></div>
                    </div>
                    <div id="fileName" class="file-name"></div>
                    <button id="predictBtn" class="btn btn-primary" disabled>Analyze Audio</button>
                </div>

                <!-- Results Section -->
                <div class="card" id="resultsSection" style="display: none;">
                    <h2 class="section-title">Analysis Results</h2>
                    
                    <div class="status-display" id="statusDisplay">
                        <div class="status-icon" id="statusIcon"></div>
                        <div class="status-text">
                            <h3 id="statusTitle">Analyzing...</h3>
                            <p id="statusSubtitle">Processing audio file</p>
                        </div>
                    </div>

                    <div class="confidence-section">
                        <h3 class="confidence-title">Confidence Score</h3>
                        <div class="confidence-bar-container">
                            <div class="confidence-bar" id="confidenceBar">
                                <div class="confidence-fill" id="confidenceFill"></div>
                            </div>
                            <span class="confidence-value" id="confidenceValue">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Model Status Card -->
                <div class="card">
                    <h2 class="section-title">System Status</h2>
                    <div class="system-status">
                        <div class="status-item">
                            <span class="status-label">Model Loaded:</span>
                            <span id="modelLoadedStatus" class="status-indicator loading">Checking...</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Training Status:</span>
                            <span id="trainingStatus" class="status-indicator loading">Idle</span>
                        </div>
                        <div class="status-item" id="trainingProgressContainer" style="display: none;">
                            <span class="status-label">Progress:</span>
                            <span id="trainingProgress" class="status-indicator loading">0%</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Retrain Page -->
        <section id="retrain-page" class="page">
            <div class="page-header">
                <h1 class="page-title">Model Retraining</h1>
                <p class="page-subtitle">Upload new training data to improve model accuracy</p>
            </div>

            <div class="content-wrapper">
                <!-- Action Tabs -->
                <div class="action-tabs">
                    <button class="tab-btn active" data-tab="upload">Upload New Dataset</button>
                    <button class="tab-btn" data-tab="continue">Continue Training</button>
                    <button class="tab-btn" data-tab="existing">Use Existing Datasets</button>
                </div>

                <!-- Upload New Dataset Tab -->
                <div id="upload-tab" class="tab-content active">
                    <div class="card">
                        <h2 class="section-title">Upload Requirements</h2>
                        <ul class="requirements-list">
                            <li>ZIP file containing labeled audio files</li>
                            <li>Audio files must be in WAV, MP3, FLAC, OGG, or M4A format</li>
                            <li>Files should be organized in <code>safe/</code> and <code>danger/</code> folders</li>
                            <li>Maximum file size: 100MB</li>
                        </ul>

                        <div class="upload-area" id="retrainUploadArea">
                            <input type="file" id="retrainFile" accept=".zip" hidden>
                            <div class="upload-content">
                                <span class="upload-icon">üì¶</span>
                                <p class="upload-text">Drag and drop your ZIP file here, or <strong class="browse-link">browse</strong></p>
                                <p class="upload-hint">Select a ZIP file containing training data</p>
                            </div>
                        </div>
                        <div id="retrainFileName" class="file-name"></div>
                        <button id="retrainBtn" class="btn btn-primary" disabled>Start Retraining</button>
                        <div id="retrainStatus" class="retrain-status"></div>
                    </div>
                </div>

                <!-- Continue Training Tab -->
                <div id="continue-tab" class="tab-content">
                    <div class="card">
                        <h2 class="section-title">Continue Training</h2>
                        <div class="form-group">
                            <label for="baseModelSelect" class="form-label">Base Model Name:</label>
                            <select id="baseModelSelect" class="form-select">
                                <option value="">Select a model</option>
                                <option value="sentinel_model">Sentinel Model (Current)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="epochsInput" class="form-label">Additional Epochs:</label>
                            <input type="number" id="epochsInput" class="form-input" value="3" min="1" max="50">
                        </div>
                        <div class="model-info-box">
                            <h3>Last Trained Model</h3>
                            <p id="modelInfoText">No model information available. Please select a model first.</p>
                        </div>
                        <button id="continueTrainingBtn" class="btn btn-primary">Continue Training</button>
                        <div id="continueTrainingStatus" class="retrain-status"></div>
                    </div>
                </div>

                <!-- Use Existing Datasets Tab -->
                <div id="existing-tab" class="tab-content">
                    <div class="card">
                        <h2 class="section-title">Use Existing Datasets</h2>
                        <p class="info-text">Retrain using datasets already stored in the system.</p>
                        <div class="dataset-list">
                            <div class="dataset-item">
                                <span class="dataset-name">Default Training Set</span>
                                <span class="dataset-info" id="existingDatasetInfo">Loading dataset info...</span>
                                <button id="useExistingDatasetBtn" class="btn btn-secondary btn-small">Use This Dataset</button>
                            </div>
                        </div>
                        <div id="existingDatasetStatus" class="retrain-status"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Visualization Page -->
        <section id="visualization-page" class="page">
            <div class="page-header">
                <h1 class="page-title">Data Visualizations</h1>
                <p class="page-subtitle">Comprehensive analytics and insights into model performance and dataset characteristics</p>
            </div>

            <div class="content-wrapper">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="modelAccuracy">75%</div>
                        <div class="stat-label">Model Accuracy</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalPredictions">0</div>
                        <div class="stat-label">Total Predictions</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgConfidence">0%</div>
                        <div class="stat-label">Average Confidence</div>
                    </div>
                </div>

                <!-- Dataset Distribution -->
                <div class="card">
                    <h2 class="section-title">Dataset Distribution</h2>
                    <div class="chart-container">
                        <canvas id="dataChart"></canvas>
                    </div>
                    <div class="interpretation">
                        <h3>Interpretation</h3>
                        <p><strong>Balanced Distribution:</strong> Model trained on balanced acoustic data (50% Safe / 50% Danger). This balanced distribution prevents class bias and ensures the model learns to distinguish both types of audio signals effectively.</p>
                    </div>
                </div>

                <!-- Training History -->
                <div class="card">
                    <h2 class="section-title">Training History</h2>
                    <div class="chart-container">
                        <canvas id="trainingChart"></canvas>
                    </div>
                    <div class="interpretation">
                        <h3>Interpretation</h3>
                        <p><strong>Model Performance:</strong> Model performance metrics over training epochs. The convergence of training and validation accuracy indicates good generalization. Early stopping prevents overfitting by monitoring validation loss.</p>
                    </div>
                </div>

                <!-- Confidence Distribution -->
                <div class="card">
                    <h2 class="section-title">Confidence Distribution</h2>
                    <div class="chart-container">
                        <canvas id="confidenceChart"></canvas>
                    </div>
                    <div class="interpretation">
                        <h3>Interpretation</h3>
                        <p><strong>Prediction Confidence:</strong> Distribution of prediction confidence scores. High confidence predictions (>80%) indicate clear audio patterns, while lower confidence suggests ambiguous signals that may require human review.</p>
                    </div>
                </div>

                <!-- Audio Class Distribution (Before/After) -->
                <div class="card">
                    <h2 class="section-title">Class Distribution Comparison</h2>
                    <div class="chart-container">
                        <canvas id="classDistributionChart"></canvas>
                    </div>
                    <div class="interpretation">
                        <h3>Interpretation</h3>
                        <p><strong>Balanced Dataset:</strong> The comparison shows a balanced distribution between Safe and Danger audio classes (50% each). This balanced distribution prevents class bias and ensures the model learns to distinguish both types of audio signals effectively. The equal representation allows for fair training and reduces the risk of the model being biased toward the majority class.</p>
                    </div>
                </div>

                <!-- Audio Feature Analysis -->
                <div class="card">
                    <h2 class="section-title">Audio Feature Analysis</h2>
                    <div class="chart-container">
                        <canvas id="featureAnalysisChart"></canvas>
                    </div>
                    <div class="interpretation">
                        <h3>Interpretation</h3>
                        <p><strong>Feature Distribution:</strong> This visualization shows the distribution of key audio features (frequency, amplitude, spectral characteristics) across the dataset. The multi-modal pattern suggests distinct audio characteristics between safe and danger signals. Peaks in different frequency ranges indicate that distress signals have unique spectral signatures that the model can learn to identify, enabling accurate classification based on acoustic properties.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>
